version: '3.5'
services:
  filebeat:
    container_name: filebeat
    image: elastic/filebeat:7.9.3
    volumes:
      - log-data:/usr/share/filebeat/log/dms-sms
      - ./filebeat.yml:/usr/share/filebeat/filebeat.yml
    networks:
      - dms-sms-local
    deploy:
      mode: replicated
      replicas: 1
      labels: [APP=filebeat]

networks:
  dms-sms-local:
    name: dms-sms-local
    driver: bridge

volumes:
  log-data:
    name: log-data
    driver: local
